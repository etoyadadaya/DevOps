## Monitoring/Logging:

1. Какие метрики нужно собирать? Разница между infrastructure и application monitoring.
    <details>
      <summary> Ответ: </summary>
   
   ***В методологии USE*** для каждого ресурса (CPU, дисковая подсистема, память и т.д.) рекомендуется снимать следующие метрики:

   ***Utilization*** — время или процент использования ресурса, занятого «полезной работой»;

   ***Saturation*** — насыщенность, то есть количество отложенной или поставленной в очередь «работы»;

   ***Errors*** — количество ошибок в работе компонента.

   ***RED предлагает мониторить***:

   ***Rate*** — количество запросов в единицу времени (например, rps на микросервис или сервер);

   ***Errors*** — количество ошибок;

   ***Duration (оно же latency)*** — время обработки одного запроса.

   ***В LTES*** по аналогии с двумя предыдущими методологиями отслеживают:

   ***Latency*** — время на обработку одного запроса (с разделением на успешные и ошибочные запросы);

   ***Traffic*** — количество запросов к компоненту (для веб-сервера это могут http-запросы, для базы данных — транзакции и т.п.);

   ***Errors*** — количество ошибок;

   ***Saturation*** — здесь это количественная метрика, отражающая, насколько компонент использует свои ресурсы и сколько у него «работы в очереди».

   Нельзя сказать, что какая-то из этих методологий «правильная». Каждый отдельный компонент системы нужно мониторить, основываясь на здравом смысле. Для веб- или application-сервера лучше подходят RED и LTES, для шины данных или обработчиков очередей задач — USE.

   ***What is Application Performance Monitoring vs Management***?

   https://www.lakesidesoftware.com/application-performance-management-vs-monitoring-top-3-differences/
   
   Подробнее: https://www.itsumma.ru/knowledges/blog/alerts
   </details>


2. Какая разница между pull и push model в системах мониторинга?
    <details>
      <summary> Ответ: </summary>

    Многие (если не большинство) системы мониторинга построены именно на основе pull/polling-модели. В такой модели система опрашивает сервис или приложение, которое мониторит. В свою очередь в push-модели приложения и сервисы сами отправляют данные в систему мониторинга.

    В среде разработчиков семантических приложений популярна точка зрения, что PUSH-запросов вообще должно быть как можно меньше. Это соображение отчасти справедливо; действительно, подавляющее большинство выполняемых в реальных инфраструктурах запросов является PULL-запросами (точно так же, как в реляционной БД количество SELECT’ов заведомо превышает количество запросов на обновление данных). Тем не менее, обойтись без PUSH на практике можно только в приложениях, занимающихся чистой аналитикой или агрегацией данных. В операционных приложениях, автоматизирующих текущую деятельность предприятия, запросы на передачу данных, инициируемые передающей системой, необходимы. Остается только решить, как лучше построить механизм их выполнения.

   Подробнее: 

   https://serge-gorshkov.livejournal.com/25516.html

   https://habr.com/ru/company/otus/blog/341862/
    </details>


3. Какая разница между Black box и White box monitoring?
    <details>
      <summary> Ответ: </summary>

    ***Black Box администрирование***:

    Под Black Box администрированием (аналогия с чёрным непрозрачным наглухо закрытым ящиком, с кнопочками и лампочками) я понимаю ситуацию, когда есть некая система, есть инструкции по её эксплуатации, какой-то набор трюков, вопросов и ответов в гугле. Но информации как устроена система нет, мы не знаем (или не хотим знать) что у неё внутри, как она работает, что там внутри с чем и каким образом взаимодействует. Да это и не важно: если она эксплуатируется в штатных условиях мы просто знаем как ей пользоваться и чего ожидать. Заранее описан набор команд/действий, приводящих к нужным нам результатам и нам не важно как система это делает, мы просто «заказываем» и получаем результат. Или, если образно, заранее описано (или найдено методом тыка, то есть опытным путём), какую кнопку надо нажать, чтоб загорелась нужная комбинация лампочек.

    ***White Box***:

   Соответственно White Box — это когда ящик прозрачный. Мы имеем возможность посмотреть (а также понять) как система устроена. При таком раскладе инструкция вторична, она позволяет понять как предполагается использовать систему и как она устроена, но не ограничивает нас этим. Есть понимание как устроена система и, как следствие, как она поведёт себя в разных условиях, в том числе и в не описанных в документации.

   ***Итоги***:

   Перейду к следствиям такого “разделения”:

   **1**: Стоит прикинуть какого типа системы нужно обслуживать на вашей фирме, прежде чем подбирать сисадмина. Black-Box-guru в случае сложных самодельных постоянно меняющихся систем врядли будет так же полезен как white-box-guru, и вряд ли будет доволен своей работой. White-box-guru в случае стабильных, отлаженных систем, в которые нежелательно “залезать внутрь” вообще не будет находить себе места и скорей всего будет работать только формально, всё свободное время занимаясь какими-то своими, личными проектами и экспериментами. Ну или будет постоянно пытаться “переделать тут всё правильно, а не как оно сейчас”.

   **2**: Сисадмину стоит “понять себя”, какой подход ближе к сердцу, и выбирать себе работу с учётом этого понимания.

   **3**: Black-box-guru решает проблемы очень быстро, так же быстро способен взять на обслуживание новые хорошо задокументированные и широко используемые системы. Результаты стабильны и предсказуемы. Проблемы предпочитает решать однотипно и предсказуемо (и часто это огромный плюс, особенно при работе в команде), но не всегда оптимально.

   **4**: White-box-guru тратит значительное время на изучение системы, но зато потом выдаёт гораздо более эффективные решения. Способен решать более сложные задачи и те для которых настало состояние “тупика” у black-box-guru, но не так быстро и не так много. При этом практически бесполезен при быстром “тушении пожаров”, потому как вместо того чтобы просто быстро перезапустить apache будет рассматривать что происходит “по горячим следам”, изучать состояние системы в её нездоровом состоянии “пока видно”.

   **5**: В крупной фирме не обойтись без команды с админами обоих типов: пока одни быстро “тушат пожар”, то есть делают чтобы система заработала хоть как-то, другие спокойно разбираются в корнях проблем и делают так, чтобы они уже никогда не повторились. И этих вторых не надо заставлять делать то что хорошо делают первые, и наоборот — ничего хорошего из этого не выйдет.

   **6**: Самые ценные, но и самые редкие кадры – это те кто могут успешно работать по обоим подходам, но и им больше по душе (комфортнее) всё же какой-то один подход.

   Подробнее: https://habr.com/ru/post/152053/
    </details>


4. Расскажите о подходах к сбору application логов.
    <details>
      <summary> Ответ: </summary>
       А черт его знает)
    </details>
