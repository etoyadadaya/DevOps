## Networks:

1. Расскажите о модели OSI. Опишите функции и назначение каждого уровня.
   <details>
      <summary> Ответ: </summary>

   Все ***семь уровней модели OSI*** можно условно разделить на ***2 группы***:

   ***Media layers*** (уровни среды),

   ***Host layers*** (уровни хоста).

   ***Уровни группы Media Layers (L1, L2, L3)*** занимаются передачей информации (по кабелю или беспроводной сети), используются сетевыми устройствами, такими как коммутаторы, маршрутизаторы и т.п.

   ***Уровни группы Host Layers (L4, L5, L6, L7)*** используются непосредственно на устройствах, будь то стационарные компьютеры или портативные мобильные устройства.

   ***Уровни***:

   ***Первый, физический уровень (physical layer, L1)***:

   Начнем с самого нижнего уровня. Он отвечает за обмен физическими сигналами между физическими устройствами, «железом». Компьютерное железо не понимает, что такое картинка или что на ней изображено, железу картинка понятна только в виде набора нулей и единиц, то есть бит. В данном случае бит является блоком данных протокола, сокращенно PDU (Protocol Data Unit).

   Каждый уровень имеет свои PDU, представляемые в той форме, которая будет понятна на данном уровне и, возможно, на следующем до преобразования. Работа с чистыми данными происходит только на уровнях с пятого по седьмой.

   Устройства физического уровня оперируют битами. Они передаются по проводам (например, через оптоволокно) или без проводов (например, через Bluetooth или IRDA, Wi-Fi, GSM, 4G и так далее).

   ***Второй уровень, канальный (data link layer, L2)***:

   Когда два пользователя находятся в одной сети, состоящей только из двух устройств — это идеальный случай. Но что если этих устройств больше?

   Второй уровень решает проблему адресации при передаче информации. Канальный уровень получает биты и превращает их в кадры (frame, также «фреймы»). Задача здесь — сформировать кадры с адресом отправителя и получателя, после чего отправить их по сети.

   У канального уровня есть два подуровня — это MAC и LLC. MAC (Media Access Control, контроль доступа к среде) отвечает за присвоение физических MAC-адресов, а LLC (Logical Link Control, контроль логической связи) занимается проверкой и исправлением данных, управляет их передачей.

   На втором уровне OSI работают коммутаторы, их задача — передать сформированные кадры от одного устройства к другому, используя в качестве адресов только физические MAC-адреса.

   ***Третий уровень, сетевой (network layer, L3)***:

   На третьем уровне появляется новое понятие — маршрутизация. Для этой задачи были созданы устройства третьего уровня — маршрутизаторы (их еще называют роутерами). Маршрутизаторы получают MAC-адрес от коммутаторов с предыдущего уровня и занимаются построением маршрута от одного устройства к другому с учетом всех потенциальных неполадок в сети.

   На сетевом уровне активно используется протокол ARP (Address Resolution Protocol — протокол определения адреса). С помощью него 64-битные MAC-адреса преобразуются в 32-битные IP-адреса и наоборот, тем самым обеспечивается инкапсуляция и декапсуляция данных.

   ***Четвертый уровень, транспортный (transport layer, L4)***:

   Четвертый уровень — это посредник между Host Layers и Media Layers, относящийся скорее к первым, чем к последним, его главной задачей является транспортировка пакетов. Естественно, при транспортировке возможны потери, но некоторые типы данных более чувствительны к потерям, чем другие. Например, если в тексте потеряются гласные, то будет сложно понять смысл, а если из видеопотока пропадет пара кадров, то это практически никак не скажется на конечном пользователе. Поэтому, при передаче данных, наиболее чувствительных к потерям на транспортном уровне используется протокол TCP, контролирующий целостность доставленной информации.

   Для мультимедийных файлов небольшие потери не так важны, гораздо критичнее будет задержка. Для передачи таких данных, наиболее чувствительных к задержкам, используется протокол UDP, позволяющий организовать связь без установки соединения.

   При передаче по протоколу TCP, данные делятся на сегменты. Сегмент — это часть пакета. Когда приходит пакет данных, который превышает пропускную способность сети, пакет делится на сегменты допустимого размера. Сегментация пакетов также требуется в ненадежных сетях, когда существует большая вероятность того, что большой пакет будет потерян или отправлен не тому адресату. При передаче данных по протоколу UDP, пакеты данных делятся уже на датаграммы. Датаграмма (datagram) — это тоже часть пакета, но ее нельзя путать с сегментом.

   Главное отличие датаграмм в автономности. Каждая датаграмма содержит все необходимые заголовки, чтобы дойти до конечного адресата, поэтому они не зависят от сети, могут доставляться разными маршрутами и в разном порядке. Датаграмма и сегмент — это два PDU транспортного уровня модели OSI. При потере датаграмм или сегментов получаются «битые» куски данных, которые не получится корректно обработать.

   Первые четыре уровня — специализация сетевых инженеров, но с последними тремя они не так часто сталкиваются, потому что пятым, шестым и седьмым занимаются разработчики.

   ***Пятый уровень, сеансовый (session layer, L5)***:

   Пятый уровень оперирует чистыми данными; помимо пятого, чистые данные используются также на шестом и седьмом уровне. Сеансовый уровень отвечает за поддержку сеанса или сессии связи. Пятый уровень оказывает услугу следующему: управляет взаимодействием между приложениями, открывает возможности синхронизации задач, завершения сеанса, обмена информации.

   Службы сеансового уровня зачастую применяются в средах приложений, требующих удаленного вызова процедур, т.е. чтобы запрашивать выполнение действий на удаленных компьютерах или независимых системах на одном устройстве (при наличии нескольких ОС).

   Примером работы пятого уровня может служить видеозвонок по сети. Во время видеосвязи необходимо, чтобы два потока данных (аудио и видео) шли синхронно. Когда к разговору двоих человек прибавится третий — получится уже конференция. Задача пятого уровня — сделать так, чтобы собеседники могли понять, кто сейчас говорит.

   ***Шестой уровень, представления данных (presentation layer, L6)***:

   О задачах уровня представления вновь говорит его название. Шестой уровень занимается тем, что представляет данные (которые все еще являются PDU) в понятном человеку и машине виде. Например, когда одно устройство умеет отображать текст только в кодировке ASCII, а другое только в UTF-8, перевод текста из одной кодировки в другую происходит на шестом уровне.

   Шестой уровень также занимается представлением картинок (в JPEG, GIF и т.д.), а также видео-аудио (в MPEG, QuickTime). Помимо перечисленного, шестой уровень занимается шифрованием данных, когда при передаче их необходимо защитить.

   ***Седьмой уровень, прикладной (application layer)***:

   Седьмой уровень иногда еще называют уровень приложений, но чтобы не запутаться можно использовать оригинальное название — application layer. Прикладной уровень — это то, с чем взаимодействуют пользователи, своего рода графический интерфейс всей модели OSI, с другими он взаимодействует по минимуму.

   Все услуги, получаемые седьмым уровнем от других, используются для доставки данных до пользователя. Протоколам седьмого уровня не требуется обеспечивать маршрутизацию или гарантировать доставку данных, когда об этом уже позаботились предыдущие шесть. Задача седьмого уровня — использовать свои протоколы, чтобы пользователь увидел данные в понятном ему виде.

   Протоколы здесь используют UDP (например, DHCP) или TCP (например, HTTP, HTTPS, SFTP (Simple FTP), DNS). Прикладной уровень является самым верхним по иерархии, но при этом его легче всего объяснить.

   ***Вывод***:

   ***Модель OSI служит инструментом при диагностике сетей***. Если в сети что-то не работает, то гораздо проще определить уровень, на котором произошла неполадка, чем пытаться перестроить всю сеть заново.

   ***Зная архитектуру сети, гораздо проще ее строить и диагностировать***. Как нельзя построить дом, не зная его архитектуры, так невозможно построить сеть, не зная модели OSI. При проектировании важно учитывать все. Важно учесть взаимодействие каждого уровня с другими, насколько обеспечивается безопасность, шифрование данных внутри сети, какой прирост пользователей выдержит сеть без обрушения, будет ли возможно перенести сеть на другую машину и т.д. Каждый из перечисленных критериев укладывается в функции одного из семи уровней.

   Подробнее: https://selectel.ru/blog/osi-for-beginners/
    </details>    


2. Какие сетевые топологии вы знаете? Опишите разницу между ними.
   <details>
      <summary> Ответ: </summary>

   ***Топология*** – это схема соединения каналами связи компьютеров или узлов сети между собой.

   ***Сетевая топология может быть***:

   ***физической*** — описывает реальное расположение и связи между узлами сети.

   ***логической*** — описывает хождение сигнала в рамках физической топологии.

   ***информационной*** — описывает направление потоков информации, передаваемых по сети.

   ***управления обменом*** — это принцип передачи права на пользование сетью.

   ***Существует множество способов соединения сетевых устройств. Выделяют следующие топологии***:

    1: ***полносвязная***

    2: ***ячеистая***

    3: ***общая шина***

    4: ***звезда***

    5: ***кольцо***

    6: ***снежинка***

   Подробнее: https://www.sites.google.com/site/informtexxim/home/5
    </details>


3. Зачем нужен IP-адрес, если MAC-адрес уникален? Разве мы не можем общаться только по MAC-адресу?
   <details>
      <summary> Ответ: </summary>

   ***IP-адрес*** — это уникальный набор цифр, который идентифицирует устройство, подключенное к Интернету.

   ***Существует два вида IP-адресов***:

   * ***IPv4*** , который выглядит как четыре набора чисел, разделенных точками, каждый номер в диапазоне от 0 до 255.
   >    например, 54.221.192.241
   
   * ***IPv6*** , который выглядит как восемь наборов четырехсимвольных строк, разделенных двоеточиями, каждая строка содержит цифры и строчные буквы.
   >    например, 0: 0: 0: 0: 0: ffff: 36dd: c0f1

   ***MAC-адрес*** идентифицирует уникальный «сетевой интерфейс» в устройстве. Хотя IP-адреса назначаются Интернет-провайдерами и могут быть переназначены при подключении и отключении устройств, MAC-адреса связаны с физическим адаптером и назначаются производителями.

   ***MAC-адрес*** представляет собой ***12-значную строку***, где каждая цифра может быть любым ***числом от 0 до 9*** или ***буквой между A и F***. Для удобства чтения строка разделена на куски. Существует три распространенных формата, первый из которых является наиболее распространенным и предпочтительным:

     * 68: 7F: 74: 12: 34: 56
     * 68-7F-74-12-34-56
     * 687.F74.123.456

   ***Первые шесть цифр (называемые «префиксом») представляют производителя адаптера, а последние шесть цифр представляют уникальный идентификационный номер для этого конкретного адаптера***. MAC-адрес не содержит информации о том, к какой сети подключено устройство.

   ***Итого***: адресовать пакеты по мак-адресу не используя протоколы верхнего уровня можно только внутри звезды. Гипотетически - если правильно настроена сеть, то внутри небольшой локальной сети (той части которая неразбита на подсети) можно передавать пакеты по мак-адресу не используя ай-пи, при условии что ПО умеет такие патеты обрабатывать и сетевое оборудывание это умеет.

    Подробнее: https://ru.stackoverflow.com/questions/357931/Зачем-нужен-ip-адрес-если-есть-mac-адрес
    </details>


4. В чем разница между концентратором и коммутатором L2 в сетях Ethernet?
   <details>
      <summary> Ответ: </summary>

   ***Концентратор*** передает принятые пакеты на все свои порты. При этом общая скорость, например 100Мбит/с, разделяется между всеми подключенными пользователями. ***Коммутатор*** на базе таблицы МАС-адресов устанавливает прямые соединения между портами. При этом общая скорость не разделяется между пользователями, а предоставляется целиком установленным попарно соединениям. Порты коммутатора, в отличиет от концентратора, могут работать в режиме полного дуплекса, когда одновременно происходит передача и прием информации. При этом пропускная способность соединения удваивается.

   Подробнее: гугл в помощь
    </details>


5. Что такое VLAN и для чего существует разделение на виртуальные локальные сети?
   <details>
      <summary> Ответ: </summary>

   ***VLAN (Virtual Local Area Network, виртуальная локальная сеть)*** — это функция в роутерах и коммутаторах, позволяющая на одном физическом сетевом интерфейсе (Ethernet, Wi-Fi интерфейсе) создать несколько виртуальных локальных сетей.

   ***Достоинства использования VLAN***:

   ***Гибкое разделение устройств на группы***

    * Как правило, одному VLAN соответствует одна подсеть. Компьютеры, находящиеся в разных VLAN, будут изолированы друг от друга. Также можно объединить в одну виртуальную сеть компьютеры, подключенные к разным коммутаторам.

   ***Уменьшение широковещательного трафика в сети***
   
    * Каждый VLAN представляет отдельный широковещательный домен. Широковещательный трафик не будет транслироваться между разными VLAN. Если на разных коммутаторах настроить один и тот же VLAN, то порты разных коммутаторов будут образовывать один широковещательный домен.
   
   ***Увеличение безопасности и управляемости сети***
   
    * В сети, разбитой на виртуальные подсети, удобно применять политики и правила безопасности для каждого VLAN. Политика будет применена к целой подсети, а не к отдельному устройству.
   
   ***Уменьшение количества оборудования и сетевого кабеля***
   
    * Для создания новой виртуальной локальной сети не требуется покупка коммутатора и прокладка сетевого кабеля. Однако вы должны использовать более дорогие управляемые коммутаторы с поддержкой VLAN.

   Подробнее: https://www.technotrade.com.ua/Articles/what_is_vlan.php
    </details>


6. Какой номер порта используется для PING-коммуникации?
   <details>
      <summary> Ответ: </summary>

   Если кто-либо пингует порт 80, это обычно значит, что он посылает на данную систему SYN-пакет по протоколу TCP. Настоящий ping работает через протокол ICMP, который не использует порты вовсе.

   Подробнее: https://www.securitylab.ru/analytics/423450.php
    </details>


7. Что такое сеанс связи? Какой алгоритм использует TCP для доставки?
   <details>
      <summary> Ответ: </summary>

   ***Cоединение по сети передачи данных (сеанс связи)*** - установленное в результате вызова или предварительно установленное взаимодействие между средствами связи, позволяющее абоненту и (или) пользователю передавать и (или) принимать голосовую и (или) неголосовую информацию.

   ***Для отслеживания подтверждения доставки в TCP реализуется алгоритм "скользящего" окна***. Наиболее типичными прикладными процессами, использующими TCP, являются FTP (File Transfer Protocol - протокол передачи файлов) и telnet. Кроме того, TCP используют системы SMTP, HTTP, X-window, RCP (remote copy), а также "r"-команды.

   Подробнее: https://infopedia.su/7x78fb.html
    </details>


8. В чем основное отличие между TCP и UDP?
   <details>
      <summary> Ответ: </summary>

   Ключевым различием между TCP и UDP является скорость, поскольку TCP сравнительно медленнее UDP. В целом, UDP является быстрым, простым и эффективным протоколом, однако повторная передача потерянных пакетов данных возможна только в TCP.

   Подробнее: https://selectel.ru/blog/tcp-vs-udp/
    </details>


9. Зачем нам маршрутизатор по умолчанию?
   <details>
      <summary> Ответ: </summary>

   Шлюз по умолчанию позволяет упростить координацию трафика, направляя его на центральные роутеры. Если «центральных» роутеров несколько штук, то шлюз по умолчанию может и не указываться.

   Подробнее: https://ru.wikipedia.org/wiki/Шлюз_по_умолчанию
    </details>


10. Как хост решает DNS по умолчанию?
   <details>
      <summary> Ответ: </summary>
    хз
Подробнее:
</details>


11. Компьютер начал получать IP-адрес из другой сети (есть подозрение, что в сети работает другой DHCP-сервер): как его найти и отключить? Какие методы защиты от такой проблемы?
   <details>
      <summary> Ответ: </summary>

Подробнее: https://learn.microsoft.com/ru-ru/services-hub/health/remediation-steps-ad/disable-or-remove-the-dhcp-server-service-installed-on-any-domain-controllers
</details>


12. Мы будем мигрировать сайт на новый IP-адрес. Как сделать, чтобы пользователи этого практически не заметили?
   <details>
      <summary> Ответ: </summary>

Подробнее: https://tucha.ua/ru/blog/support/pereezd-sayta-s-servera-na-server-i-besshovnaya-migraciya (имба)
</details>


13. Что такое socket?
   <details>
      <summary> Ответ: </summary>

***Сокеты (англ. socket — разъём)*** — название программного интерфейса для обеспечения обмена данными между процессами. Процессы при таком обмене могут исполняться как на одной ЭВМ, так и на различных ЭВМ, связанных между собой сетью. Сокет — абстрактный объект, представляющий конечную точку соединения.

***Принципы сокетов***:

Каждый процесс может создать слушающий сокет (серверный сокет) и привязать его к какому-нибудь порту операционной системы (в UNIX непривилегированные процессы не могут использовать порты меньше 1024). Слушающий процесс обычно находится в цикле ожидания, то есть просыпается при появлении нового соединения. При этом сохраняется возможность проверить наличие соединений на данный момент, установить тайм-аут для операции и т.д.

Каждый сокет имеет свой адрес. ОС семейства UNIX могут поддерживать много типов адресов, но обязательными являются INET-адрес и UNIX-адрес. Если привязать сокет к UNIX-адресу, то будет создан специальный файл (файл сокета) по заданному пути, через который смогут сообщаться любые локальные процессы путём чтения/записи из него (см. Доменный сокет Unix). Сокеты типа INET доступны из сети и требуют выделения номера порта.

Обычно клиент явно подсоединяется к слушателю, после чего любое чтение или запись через его файловый дескриптор будут передавать данные между ним и сервером.

Подробнее: https://lecturesnet.readthedocs.io/net/low-level/ipc/socket/intro.html
</details>


14. Как узнать, какие удаленные хосты подключаются к хосту через порт 8888? (с помощью команд и не используя /proc или /sys).
   <details>
      <summary> Ответ: </summary>
хз
Подробнее:
</details>


15. У нас есть несколько сетевых карт. Как увеличить пропускную способность сервера?
   <details>
      <summary> Ответ: </summary>

***Да, возможно***. Есть несколько способов добиться увеличения пропускной способности сетевого интерфейса с использованием множества адаптеров.

***Link Aggregation*** - объединение множества адаптеров в один канал, что обеспечивает естественное увеличение пропускной способности. Реализуется на уровне сетевых адаптеров, предоставляющих данный функционал, требует поддержки со стороны коммутатора.

***Разнесение множества IP-интерфейсов между сетевыми адаптерами***. Реализуется на уровне ОС, серверной и клиентсой частей ПО. Способ этот часто используется в паре с "циклическим DNS". Не требует специфичного сетевого оборудования.

***Оба способа кроме увеличения пропускной способности также повышают отказоустойчивость сетевого соединения***.

Я бы порекомендовал Вам именно ***Link Aggregation***, например, в реализации от Intel - Teaming.

Подробнее: https://social.technet.microsoft.com/Forums/ru-RU/436e40a0-3124-42d7-aac7-bb0c4a824351/105510861074109910961077108510801077?forum=windowsserverru
</details>


16. Как проверить открытые порты на удаленном сервере без команд Netcat или Nmap Linux?
   <details>
      <summary> Ответ: </summary>

***telnet***: команда telnet используется для интерактивного взаимодействия с другим хостом по протоколу TELNET.

***Общий синтаксис для telnet***:

$ telnet [HostName or IP] [PortNumber]

***В случае успеха вы получите следующий результат***:

>$ telnet 192.168.1.9 22
>
>Trying 192.168.1.9...
>
>Connected to 192.168.1.9.
>
>Escape character is '^]'.
>
>SSH-2.0-OpenSSH_5.3
>
>^]
>
>Connection closed by foreign host.

***Если это не удастся, вы получите следующий вывод***:

>$ telnet 192.168.1.9 80
>
>Trying 192.168.1.9...
>
>telnet: Unable to connect to remote host: Connection refused

Подробнее: https://itsecforu.ru/2019/03/18/🐧-3-способа-проверить-открыт-ли-порт-н/
</details>

